;============================================================================================================================================================================================================================================================================================================================================
;               frame=23807  mbx=25  mby=23
;============================================================================================================================================================================================================================================================================================================================================
.data

; Residual Y (+0)
.global InYBaseAddr
.align 3
InYBaseAddr:
.half      -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5
.half      -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5
.half      -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5
.half      -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,    5,   -5,   -5,   -5,   -5
.half      -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,    5,   -5,   -5,   -5,   -5,   -5
.half      -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5
.half      -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5
.half      -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5
.half      -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5
.half      -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5
.half      -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5
.half       5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,    5,   -5,   -5,   -5,   -5,   -5,   -5
.half      -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,    5,   -5,   -5,   -5,   -5
.half      -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5
.half      -5,    5,   -5,   -5,   -5,    5,    5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5
.half      -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5,   -5

; Residual Cb (+512)
.global InCbBaseAddr
.align 3
InCbBaseAddr:
.half     152, -153,   52,    2,  -65,  -19, -152,   83
.half     167,    1, -226,   -8, -162,   -8,   44,   40
.half    -117,    7,  186,   51,  149,  110,  -87,  -76
.half     191, -145,  127,   80,   88,   24, -215, -184
.half     -50, -140,   90,    2,  -56,  -20,   50,  194
.half    -171,  -51, -105,  -80,  101,  115,    7, -189
.half      11,   93,   95,   83,  -50, -104,  -32,  -16
.half    -117,    9,  -38,   17, -127,  206,   62, -162

; Residual Cr (+640)
.global InCrBaseAddr
.align 3
InCrBaseAddr:
.half     171,   67, -213,  115,  139,  -11, -119,  -73
.half      -3,   31,  203,  116,  -15,   59,  -31,  -60
.half     143,  192,   10, -134, -224,   -2,  -63, -176
.half     181,  -35, -154,  -35, -183,  132, -193,  -76
.half    -176,  136,  -88,  -17,  112,  113,  -96,  -16
.half      48,  212,   29,  -17,  -56,  142,  187,  213
.half     -73,  100,   95,   40,   64,    0,   90,   53
.half     -68,   34,  -70,   63, -125, -119, -239, -183

; Search Window Luma (+768)
.global SWBaseAddr
.align 3
YSWBaseAddr:
;         0   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15  16  17  18  19  20  21  22  23  24  25  26  27  28  29  30  31 
.byte     0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0
.byte     0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0
.byte     0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0
.byte     0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0
.byte    99, 88,101,175,215,183,213,138,255, 89,221, 58,237,217,107,135,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0
.byte   105,157,222,173,140,122,106,117, 95,143, 68,103,133, 46, 73,227,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0
.byte   129,170,142, 83, 92, 94,216, 86,178,177,139,154,133,241, 28,233,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0
.byte   138,246,145, 17,107,246,129,197,129,192, 39,247,233,107,223,102,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0
.byte    16,104,180,103,193,136,185,110, 52, 63,250,180, 44, 27,152,177,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0
.byte    12, 36,189,114, 22, 57, 50,146,244, 84,142,217,187,104, 58,198,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0
.byte   204,233, 41,136,108,221,242,155, 23,241, 74, 62,  7,221,234, 15,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0
.byte   253,162,124, 14,214,170,155,198,249, 36,154,175,135,207,113, 78,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0
.byte   179,149,210, 27,109,191,177,127,171,247,185,173,207,158,183,199,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0
.byte    60, 47,208, 13,212,102,206,200,133, 99,115,  8, 45,223, 81,220,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0
.byte   111, 30,242,215,216,158, 81,126,144,  5, 39, 91,159,217, 29,214,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0
.byte   249,233,222,210, 74,168,150,203,  6,250,206, 47,222, 26,  6, 72,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0
.byte    52,243, 26,  7,140,102,129, 24,103,163,110,247,119,134,210,118,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0
.byte   106,171, 67,176, 78,212,118, 80,211, 63,122,172, 84,123,239,131,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0
.byte   105,250,134,240,102,248,249,200,160,108,196, 18,238,145,131, 83,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0
.byte    55,194,254,129,145,111,204, 96,169, 65,  7,249,183,242,119, 27,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0
.byte     0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0
.byte     0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0
.byte     0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0
.byte     0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0
.byte     0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0
.byte     0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0
.byte     0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0
.byte     0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0
.byte     0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0
.byte     0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0
.byte     0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0
.byte     0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0
; Search Window Chroma (+1792)
.global SWBaseAddr
.align 3
CSWBaseAddr:
;         0   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15  16  17  18  19  20  21  22  23  24  25  26  27  28  29  30  31 
.byte     0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0
.byte     0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0
.byte     0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0
.byte     0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0
.byte     0,  0,  0,  0,  0,  0,  0,  0, 84,154,188, 14,168,172,243, 76,  0,  0,  0,  0,  0,  0,  0,  0, 72, 10,213, 24, 68, 91,142,215
.byte     0,  0,  0,  0,  0,  0,  0,  0, 45,  9,229,196,175,163,127,173,  0,  0,  0,  0,  0,  0,  0,  0,155, 66,  6, 51,205,132, 45,212
.byte     0,  0,  0,  0,  0,  0,  0,  0,118,222, 28, 74, 48, 32,133,251,  0,  0,  0,  0,  0,  0,  0,  0, 71, 50,236,196,246, 35,108,178
.byte     0,  0,  0,  0,  0,  0,  0,  0,  7,244, 11, 32,134, 62,241,217,  0,  0,  0,  0,  0,  0,  0,  0,  4,236,185,186,195,  5,236,103
.byte     0,  0,  0,  0,  0,  0,  0,  0, 51,153,163, 20,217,247,160, 16,  0,  0,  0,  0,  0,  0,  0,  0,183, 80,227,211, 52, 94,242,168
.byte     0,  0,  0,  0,  0,  0,  0,  0,246,148,190,188,120, 73,230,208,  0,  0,  0,  0,  0,  0,  0,  0,  5,  1,180, 68,250,105, 35, 26
.byte     0,  0,  0,  0,  0,  0,  0,  0,218,106, 76, 81,179,132, 58,251,  0,  0,  0,  0,  0,  0,  0,  0,105,126,126, 37, 72, 83,148, 49
.byte     0,  0,  0,  0,  0,  0,  0,  0,153, 50, 68,155,233, 37,  8,233,  0,  0,  0,  0,  0,  0,  0,  0,144, 87,238,188,229,207,245,226
.byte     0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0
.byte     0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0
.byte     0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0
.byte     0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0
.byte     0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0
.byte     0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0
.byte     0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0
.byte     0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0
.byte     0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0
.byte     0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0
.byte     0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0
.byte     0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0
.byte     0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0
.byte     0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0
.byte     0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0
.byte     0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0
.byte     0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0
.byte     0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0
.byte     0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0
.byte     0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0


; Pre-row Luma (+2816)
.global PreRowPelYBaseAddr
.align 3
PreRowPelYBaseAddr:
  .byte  246, 199,  22, 158, 115,  17,   8, 219,   4,  96,  34,  10, 167,  77,  49, 181,  91,   3, 160,  13,   0,   0,   0,   0
; Pre-col Luma (+2840)
.global PreColPelYBaseAddr
.align 3
PreColPelYBaseAddr:
  .byte   38,  14,  13, 210, 235, 178,  31, 108,  58,  59, 192,  84,  42, 171, 186,  78, 248,   0,   0,   0,   0,   0,   0,   0
; PreColPelCb (+2864)
.global PreColPelCbBaseAddr
.align 3
PreColPelCbBaseAddr:
  .byte   0x22,0x47,0xcd,0x87,0x56,0x70,0x9c,0xea,0x98,0x00,0x00,0x00,0x00,0x00,0x00,0x00

; PreColPelCr (+2880)
.global PreColPelCrBaseAddr
.align 3
PreColPelCrBaseAddr:
  .byte   0x0d,0x5d,0x9b,0x78,0xd5,0x4c,0x86,0x0f,0xf2,0x00,0x00,0x00,0x00,0x00,0x00,0x00

; PreRowPelCb (+2896)
.global PreRowPelCbBaseAddr
.align 3
PreRowPelCbBaseAddr:
  .byte   0xeb,0x53,0xa7,0x5a,0xb0,0xdb,0xc2,0x5d

; PreRowPelCr (+2904)
.global PreRowPelCrBaseAddr
.align 3
PreRowPelCrBaseAddr:
  .byte   0x9c,0x0d,0xfa,0xd8,0xb5,0x50,0xfd,0x09

; Intra4x4PredModeBaseAddr (+2912)
Intra4x4PredModeBaseAddr:
.byte   0x02
.byte   0x02
.byte   0x02
.byte   0x02
.byte   0x04
.byte   0x02
.byte   0x06
.byte   0x02
.byte   0x03
.byte   0x00
.byte   0x01
.byte   0x02
.byte   0x03
.byte   0x06
.byte   0x03
.byte   0x02

; MVBaseAddr (+2928)
MVBaseAddr:
OutMV0:
.word   0x00000000
OutMV1:
.word   0x00000000
OutMV2:
.word   0x00000000
OutMV3:
.word   0x00000000
OutMV4:
.word   0x00000000
OutMV5:
.word   0x00000000
OutMV6:
.word   0x00000000
OutMV7:
.word   0x00000000
OutMV8:
.word   0x00000000
OutMV9:
.word   0x00000000
OutMV10:
.word   0x00000000
OutMV11:
.word   0x00000000
OutMV12:
.word   0x00000000
OutMV13:
.word   0x00000000
OutMV14:
.word   0x00000000
OutMV15:
.word   0x00000000
; input parameters (+2992)
.global Input_Addr
.align 3
Input_Addr:
    .byte 0x34              ; Func_Mode             (52)
    .byte 0x0f              ; IntraRefAval          (15)
    .byte 0x00              ; SWSearchRange         (0)
    .byte 0x20              ; SWB_Width             (32)
    .byte 0x00              ; SW_Start_Offset       (0)
    .byte 0x08              ; SW_Start_Offset_Chroma       (8)
    .half 0x0004            ; MbType       (4)
    .byte 0x03              ; Intra16x16PredMode       (3)
    .byte 0x00              ; IntraChromaPredMode       (0)
    .half 0xffff            ; CBP
    .half 0xffff            ; CBP_Cb
    .half 0xffff            ; CBP_Cr
    .half 768               ; YSWBaseAddr
    .half 1792              ; CSWBaseAddr
    .half 2928              ; MVBaseAddr
    .half 2912              ; Intra4x4PredModeBaseAddr
    .half 10000             ; OutYBaseAddr
    .half 10256             ; OutCbBaseAddr
    .half 10320             ; OutCrBaseAddr
    .half 2840              ; PreColPelYBaseAddr
    .half 2816              ; PreRowPelYBaseAddr
    .half 2864              ; PreColPelCbBaseAddr
    .half 2896              ; PreRowPelCbBaseAddr
    .half 2880              ; PreColPelCrBaseAddr
    .half 2904              ; PreRowPelCrBaseAddr
    .half 0                 ; InYBaseAddr
    .half 512               ; InCbBaseAddr
    .half 640               ; InCrBaseAddr
.text
;set dma (load data to dmem)
;Parameter0 (parameters)
{  MOVI.L R3, 0x0070  |  NOP  |  NOP  |  NOP  |  NOP  }
{  MOVI.H R3, 0x1E05  |  NOP  |  NOP  |  NOP  |  NOP  }
;SAR (Source)
{  MOVI.L R4, 0x0000  |  NOP  |  NOP  |  NOP  |  NOP  }
{  MOVI.H R4, 0x0000  |  NOP  |  NOP  |  NOP  |  NOP  }
{  SW R4, R3, 4+      |  NOP  |  NOP  |  NOP  |  NOP  }
;DAR (Destination)
{  MOVI.L R4, 0x0000  |  NOP  |  NOP  |  NOP  |  NOP  }
{  MOVI.H R4, 0x1E00  |  NOP  |  NOP  |  NOP  |  NOP  }
{  SW R4, R3, 4+      |  NOP  |  NOP  |  NOP  |  NOP  }
;SGR
{  MOVI.L R4, 0x0007  |  NOP  |  NOP  |  NOP  |  NOP  }
{  MOVI.H R4, 0x00A0  |  NOP  |  NOP  |  NOP  |  NOP  }
{  SW R4, R3, 4+      |  NOP  |  NOP  |  NOP  |  NOP  }
;DSR
{  MOVI.L R4, 0x0004  |  NOP  |  NOP  |  NOP  |  NOP  }
{  MOVI.H R4, 0x0050  |  NOP  |  NOP  |  NOP  |  NOP  }
{  SW R4, R3, 4+      |  NOP  |  NOP  |  NOP  |  NOP  }
;CTL (Size)
{  MOVI.L R4, 0x0002  |  NOP  |  NOP  |  NOP  |  NOP  }
{  MOVI.H R4, 0x08f8  |  NOP  |  NOP  |  NOP  |  NOP  }
{  SW R4, R3, 4+      |  NOP  |  NOP  |  NOP  |  NOP  }
;EN
{  MOVI.L R4, 0x0000  |  NOP  |  NOP  |  NOP  |  NOP  }
{  MOVI.H R4, 0x0000  |  NOP  |  NOP  |  NOP  |  NOP  }
{  SW R4, R3, 4+      |  NOP  |  NOP  |  NOP  |  NOP  }

;Check DMA Done
{  MOVI.L R5, 0x0054       |  NOP  |  NOP  |  NOP  |  NOP  }
{  MOVI.H R5, 0x1E05       |  NOP  |  NOP  |  NOP  |  NOP  }
Label2:
{  LW R6, R5, 0            |  NOP  |  NOP  |  NOP  |  NOP  }
{  NOP                     |  NOP  |  NOP  |  NOP  |  NOP  }
{  NOP                     |  NOP  |  NOP  |  NOP  |  NOP  }
{  SEQI R7, P1, P2, R6, 0  |  NOP  |  NOP  |  NOP  |  NOP  }
{  (P2)B Label2           |  NOP  |  NOP  |  NOP  |  NOP  }
{  NOP                     |  NOP  |  NOP  |  NOP  |  NOP  }
{  NOP                     |  NOP  |  NOP  |  NOP  |  NOP  }
{  NOP                     |  NOP  |  NOP  |  NOP  |  NOP  }
{  NOP                     |  NOP  |  NOP  |  NOP  |  NOP  }
{  NOP                     |  NOP  |  NOP  |  NOP  |  NOP  }

; set CFU_Info_Sel(SR13) according to interested

    {   MOVI.L SR13, 2                          |   NOP |   NOP |   NOP |   NOP }

; store Input_Addr(Base+2992) to ME (SR4-7 = CFU0-3, ME use SR6)
    {   MOVI R0, 0x80000bb0                 |   NOP |   NOP |   NOP |   NOP }
    {   COPY SR6, R0                                |   NOP |   NOP |   NOP |   NOP }

; test if store success
    {   TEST P1, P2, 0xFFFF, 0x8000 |   NOP |   NOP |   NOP |   NOP }

; start function (decode md reconstruct)
    {   MOVI.H R1, 0x0000                       |   NOP |   NOP |   NOP |   NOP }
    {   MOVI.L R1, 0x00d0                       |   NOP |   NOP |   NOP |   NOP }
    {   COPY SR6, R1                                |   NOP |   NOP |   NOP |   NOP }

; test if busy
    {   TEST P3, P4, 0xFFFF, 0x20d0 |   NOP |   NOP |   NOP |   NOP }

; change CFU_Command to Waiting
    {   MOVI.H R2, 0x2000                       |   NOP |   NOP |   NOP |   NOP }
    {   MOVI.L R2, 0x0000                       |   NOP |   NOP |   NOP |   NOP }
    {   COPY SR6, R2                                |   NOP |   NOP |   NOP |   NOP }

    {   MOVI R3, 800                               |   NOP |   NOP |   NOP |   NOP }
    {   WAIT R3, 0xFFFF, 0x00d0         |   NOP |   NOP |   NOP |   NOP }

; test output if cannot dump memory

{  NOP                     |  NOP  |  NOP  |  NOP  |  NOP  }


; test output if cannot dump memory
;set dma (store data to ddr)
;Parameter0 (bitstrem)
{  MOVI.L R3, 0x0070  |  NOP  |  NOP  |  NOP  |  NOP  }
{  MOVI.H R3, 0x1E05  |  NOP  |  NOP  |  NOP  |  NOP  }
;SAR
{  MOVI.L R4, 0x2710  |  NOP  |  NOP  |  NOP  |  NOP  }
{  MOVI.H R4, 0x1E00  |  NOP  |  NOP  |  NOP  |  NOP  }
{  SW R4, R3, 4+      |  NOP  |  NOP  |  NOP  |  NOP  }
;DAR
{  MOVI.L R4, 0x2710  |  NOP  |  NOP  |  NOP  |  NOP  }
{  MOVI.H R4, 0x0000  |  NOP  |  NOP  |  NOP  |  NOP  }
{  SW R4, R3, 4+      |  NOP  |  NOP  |  NOP  |  NOP  }
;SGR
{  MOVI.L R4, 0x0007  |  NOP  |  NOP  |  NOP  |  NOP  }
{  MOVI.H R4, 0x00A0  |  NOP  |  NOP  |  NOP  |  NOP  }
{  SW R4, R3, 4+      |  NOP  |  NOP  |  NOP  |  NOP  }
;DSR
{  MOVI.L R4, 0x0004  |  NOP  |  NOP  |  NOP  |  NOP  }
{  MOVI.H R4, 0x0050  |  NOP  |  NOP  |  NOP  |  NOP  }
{  SW R4, R3, 4+      |  NOP  |  NOP  |  NOP  |  NOP  }
;CTL
{  MOVI.L R4, 0x0012  |  NOP  |  NOP  |  NOP  |  NOP  }
{  MOVI.H R4, 0x0060  |  NOP  |  NOP  |  NOP  |  NOP  }
{  SW R4, R3, 4+      |  NOP  |  NOP  |  NOP  |  NOP  }
;EN
{  MOVI.L R4, 0x0000  |  NOP  |  NOP  |  NOP  |  NOP  }
{  MOVI.H R4, 0x0000  |  NOP  |  NOP  |  NOP  |  NOP  }
{  SW R4, R3, 4+      |  NOP  |  NOP  |  NOP  |  NOP  }

;Check DMA Done
{  MOVI.L R5, 0x0054       |  NOP  |  NOP  |  NOP  |  NOP  }
{  MOVI.H R5, 0x1E05       |  NOP  |  NOP  |  NOP  |  NOP  }
Label3:
{  LW R6, R5, 0            |  NOP  |  NOP  |  NOP  |  NOP  }
{  NOP                     |  NOP  |  NOP  |  NOP  |  NOP  }
{  NOP                     |  NOP  |  NOP  |  NOP  |  NOP  }
{  SEQI R7, P1, P2, R6, 0  |  NOP  |  NOP  |  NOP  |  NOP  }
{  (P2)B Label3           |  NOP  |  NOP  |  NOP  |  NOP  }
{  NOP                     |  NOP  |  NOP  |  NOP  |  NOP  }
{  NOP                     |  NOP  |  NOP  |  NOP  |  NOP  }
{  NOP                     |  NOP  |  NOP  |  NOP  |  NOP  }
{  NOP                     |  NOP  |  NOP  |  NOP  |  NOP  }
{  NOP                     |  NOP  |  NOP  |  NOP  |  NOP  }

; trap
    {   NOP                         |   NOP |   NOP |   NOP |   NOP }
    {   NOP                         |   NOP |   NOP |   NOP |   NOP }
    {   NOP                         |   NOP |   NOP |   NOP |   NOP }
    {   NOP                         |   NOP |   NOP |   NOP |   NOP }
    { TRAP                      |   NOP |   NOP |   NOP |   NOP }

; values to be checked
;  /* OutYReconstructed I4*/
;  .byte    94, 83, 96,170,210,178,208,133,250, 84,216, 53,232,212,102,130
;  .byte   100,152,217,168,135,117,101,112, 90,138, 63, 98,128, 41, 68,222
;  .byte   124,165,137, 78, 87, 89,211, 81,173,172,134,149,128,236, 23,228
;  .byte   133,241,140, 12,102,241,124,192,124,187, 34,252,228,102,218, 97
;  .byte    11, 99,175, 98,188,131,180,105, 47, 58,255,175, 39, 22,147,172
;  .byte     7, 31,184,109, 17, 52, 45,141,239, 79,137,212,182, 99, 53,193
;  .byte   199,228, 36,131,103,216,237,150, 18,236, 69, 57,  2,216,229, 10
;  .byte   248,157,119,  9,209,165,150,193,244, 31,149,170,130,202,108, 73
;  .byte   174,144,205, 22,104,186,172,122,166,242,180,168,202,153,178,194
;  .byte    55, 42,203,  8,207, 97,201,195,128, 94,110,  3, 40,218, 76,215
;  .byte   106, 25,237,210,211,153, 76,121,139,  0, 34, 86,154,212, 24,209
;  .byte   254,228,217,205, 69,163,145,198,  1,255,201, 42,217, 21,  1, 67
;  .byte    47,238, 21,  2,135, 97,124, 19, 98,158,105,252,114,129,205,113
;  .byte   101,166, 62,171, 73,207,113, 75,206, 58,117,167, 79,118,234,126
;  .byte   100,255,129,235, 97,253,254,195,155,103,191, 13,233,140,126, 78
;  .byte    50,189,249,124,140,106,199, 91,164, 60,  2,244,178,237,114, 22
;OutYReconstructed I16:
;  .byte    94, 83, 96,170,210,178,208,133,250, 84,216, 53,232,212,102,130
;  .byte   100,152,217,168,135,117,101,112, 90,138, 63, 98,128, 41, 68,222
;  .byte   124,165,137, 78, 87, 89,211, 81,173,172,134,149,128,236, 23,228
;  .byte   133,241,140, 12,102,241,124,192,124,187, 34,252,228,102,218, 97
;  .byte    11, 99,175, 98,188,131,180,105, 47, 58,255,175, 39, 22,147,172
;  .byte     7, 31,184,109, 17, 52, 45,141,239, 79,137,212,182, 99, 53,193
;  .byte   199,228, 36,131,103,216,237,150, 18,236, 69, 57,  2,216,229, 10
;  .byte   248,157,119,  9,209,165,150,193,244, 31,149,170,130,202,108, 73
;  .byte   174,144,205, 22,104,186,172,122,166,242,180,168,202,153,178,194
;  .byte    55, 42,203,  8,207, 97,201,195,128, 94,110,  3, 40,218, 76,215
;  .byte   106, 25,237,210,211,153, 76,121,139,  0, 34, 86,154,212, 24,209
;  .byte   254,228,217,205, 69,163,145,198,  1,255,201, 42,217, 21,  1, 67
;  .byte    47,238, 21,  2,135, 97,124, 19, 98,158,105,252,114,129,205,113
;  .byte   101,166, 62,171, 73,207,113, 75,206, 58,117,167, 79,118,234,126
;  .byte   100,255,129,235, 97,253,254,195,155,103,191, 13,233,140,126, 78
;  .byte    50,189,249,124,140,106,199, 91,164, 60,  2,244,178,237,114, 22

;OutYReconstructed Inter:
;  .byte    94, 83, 96,170,210,178,208,133,250, 84,216, 53,232,212,102,130
;  .byte   100,152,217,168,135,117,101,112, 90,138, 63, 98,128, 41, 68,222
;  .byte   124,165,137, 78, 87, 89,211, 81,173,172,134,149,128,236, 23,228
;  .byte   133,241,140, 12,102,241,124,192,124,187, 34,252,228,102,218, 97
;  .byte    11, 99,175, 98,188,131,180,105, 47, 58,255,175, 39, 22,147,172
;  .byte     7, 31,184,109, 17, 52, 45,141,239, 79,137,212,182, 99, 53,193
;  .byte   199,228, 36,131,103,216,237,150, 18,236, 69, 57,  2,216,229, 10
;  .byte   248,157,119,  9,209,165,150,193,244, 31,149,170,130,202,108, 73
;  .byte   174,144,205, 22,104,186,172,122,166,242,180,168,202,153,178,194
;  .byte    55, 42,203,  8,207, 97,201,195,128, 94,110,  3, 40,218, 76,215
;  .byte   106, 25,237,210,211,153, 76,121,139,  0, 34, 86,154,212, 24,209
;  .byte   254,228,217,205, 69,163,145,198,  1,255,201, 42,217, 21,  1, 67
;  .byte    47,238, 21,  2,135, 97,124, 19, 98,158,105,252,114,129,205,113
;  .byte   101,166, 62,171, 73,207,113, 75,206, 58,117,167, 79,118,234,126
;  .byte   100,255,129,235, 97,253,254,195,155,103,191, 13,233,140,126, 78
;  .byte    50,189,249,124,140,106,199, 91,164, 60,  2,244,178,237,114, 22

;.align 4
;OutCbBaseAddr:
;/* ReconstructCb Intra*/
;.byte   236,  1,240, 16,103,153, 91,159
;.byte   212, 10,  3,188, 13,155,171,213
;.byte     1,229,214,125,197,142, 46,175
;.byte   198, 99,138,112,222, 86, 26, 33
;.byte     1, 13,253, 22,161,227,210,210
;.byte    75, 97, 85,108,221,188,237, 19
;.byte   229,199,171,164,129, 28, 26,235
;.byte    36, 59, 30,172,106,243, 70, 71

;.align 4
;OutCrBaseAddr:
;/* ReconstructCr Intra*/
;.byte   243, 77,  0,139,207, 80, 23,142
;.byte   152, 97,209,167,190,191, 14,152
;.byte   214,242,246, 62, 22, 33, 45,  2
;.byte   185,201, 31,151, 12,137, 43, 27
;.byte     7,216,139,194,164,207,146,152
;.byte    53,213,209, 51,194,247,222,239
;.byte    32,226,221, 77,136, 83,238,102
;.byte    76,121,168,251,104, 88,  6, 43

;OutCbBaseAddr:
;OutCbReconstructed Inter:
;.byte   236,  1,240, 16,103,153, 91,159
;.byte   212, 10,  3,188, 13,155,171,213
;.byte     1,229,214,125,197,142, 46,175
;.byte   198, 99,138,112,222, 86, 26, 33
;.byte     1, 13,253, 22,161,227,210,210
;.byte    75, 97, 85,108,221,188,237, 19
;.byte   229,199,171,164,129, 28, 26,235
;.byte    36, 59, 30,172,106,243, 70, 71

;.align 4
;OutCrBaseAddr:
;OutCrReconstructed Inter:
;.byte   243, 77,  0,139,207, 80, 23,142
;.byte   152, 97,209,167,190,191, 14,152
;.byte   214,242,246, 62, 22, 33, 45,  2
;.byte   185,201, 31,151, 12,137, 43, 27
;.byte     7,216,139,194,164,207,146,152
;.byte    53,213,209, 51,194,247,222,239
;.byte    32,226,221, 77,136, 83,238,102
;.byte    76,121,168,251,104, 88,  6, 43

