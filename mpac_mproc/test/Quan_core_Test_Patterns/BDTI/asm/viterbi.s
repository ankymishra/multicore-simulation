
BASE_ADDR = 0x2400

{	NOP	|	MOVI.H A0,BASE_ADDR	|	NOP |	MOVI.H A0,BASE_ADDR	|	NOP 	}

{	MOVIU R0,0x000000BD	|	MOVI.L A0,0x0020	|	MOVIU AC6,0X00010001 	|	MOVI.L A0,0x0020	|	MOVIU AC6,0XFFFF0001 	}
{	NOP 	|	LW D0,A0,4+	|	MOVIU AC7,0XFFFF0001 	|	LW D0,A0,4+	|	MOVIU AC7,0XFFFF0001 	}
{	NOP 	|	CLR D1	|	NOP 	|	CLR D2	|	NOP 	}
{	NOP 	|	CLR D3	|	NOP 	|	CLR D3	|	NOP 	}
{	NOP 	|	CLR A1	|	DOTP2 AC0,D0,AC6 	|	CLR A1	|	DOTP2 AC0,D0,AC6 	}
{	NOP 	|	CLR D4	|	NOP 	|	CLR D4	|	NOP 	}
{	NOP 	|	NOP 	|	INSERTI AC0,AC0,16,16 	|	NOP 	|	INSERTI AC0,AC0,16,16 	}
{	NOP	  |	MOVI.H A1,BASE_ADDR	|	NOP                 |	MOVI.H A1,BASE_ADDR	|	NOP 	}
{	NOP 	|	MOVI.L A1,0x0320	  |	MUL.D AC0,AC0,AC7 	|	MOVI.L A1,0x0338	  |	MUL.D AC0,AC0,AC7 	}
_CONSTRUCTPARRAY:										
{	NOP 	|	DLW D6,A1,8+	|	COPY AC1,D1	|	DLW A4,A1,-8+	|	COPY AC1,D3	}
{	NOP 	|	DLW A6,A1,24+	|	INSERTI AC1,D4,16,16	|	DLW A6,A1,40+	|	INSERTI AC1,D4,16,16	}
{	NOP 	|	NOP 	|	BF.D D8,AC1,AC0 	|	LW D0,A0,4+	|	BF.D D12,AC1,AC0	}
{	NOP 	|	LW D0,A0,4+ 	|	PERMH2 AC2,D6,D7,1,3	|	PERMH2 D4,A4,A5,1,3	|	NOP 	}
{	NOP 	|	PERMH4 D4,A6,A7,0,2,1,3	|	BF.D D10,AC2,AC0 	|	PERMH4 D2,A6,A7,0,2,1,3	|	BF.D D14,D4,AC0	}
{	LBCB R0,_CONSTRUCTPARRAY 	|	MAX.D D1,D8,D11 	|	BF.D D12,D4,AC0 	|	MAX.D D5,D12,D15	|	BF.D D8,D2,AC0	}
{	NOP 	|	MAX.D D2,D9,D10 	|	BF.D D14,D5,AC0 	|	MAX.D D4,D13,D14	|	BF.D D10,D3,AC0	}
{	NOP 	|	MAX.D D4,D12,D15 	|	DOTP2 AC0,D0,AC6 	|	MAX.D D2,D8,D11 	|	DOTP2 AC0,D0,AC6 	}
{	NOP 	|	MAX.D D5,D13,D14 	|	NOP 	|	MAX.D D3,D9,D10 	|	NOP 	}
{	NOP 	|	DSW D1,D4,A1,16+	|	INSERTI AC0,AC0,16,16 	|	DSW D3,D4,A1,-16+ 	|	INSERTI AC0,AC0,16,16 	}
{	NOP 	|	DSW D2,D5,A1,-16+	|	MUL.D AC0,AC0,AC7 	|	DSW D2,D5,A1,16+	|	MUL.D AC0,AC0,AC7 	}
{	NOP 	|	COPY A0, A1	|	NOP 	|	ADDI A1,A1,-8	|	NOP 	}
{	NOP 	|	DLW D0,A0,8+	|	NOP 	|	COPY A0, A1	|	NOP 	}
{	NOP 	|	DLW D2,A0,248+	|	NOP 	|	DLW D0,A0,8+ 	|	NOP 	}
{	NOP 	|	DLW A4,A0,8+	|	NOP 	|	DLW D2,A0,248+	|	NOP 	}
{	NOP 	|	DLW A6,A0,8+	|	MAX.D D0,D0,D1 	|	DLW A4,A0,8+	|	NOP 	}
{	NOP 	|	NOP 	|	MAX.D D2,D2,D3 	|	DLW A6,A0,8+	|	MAX.D D0,D0,D1 	}
{	NOP 	|	NOP 	|	MAX.D D0,D0,D2 	|	NOP 	|	MAX.D D2,D2,D3 	}
{	NOP 	|	SWAP2 A2,D0	|	NOP 	|	NOP 	|	MAX.D D0,D0,D2 	}
{	NOP 	|	MAX.D A3,A2,D0 	|	NOP 	|	SWAP2 A2,D0	|	NOP 	}
{	NOP 	|	SGT.L A7,P1,P2,A3,A4	|	NOP 	|	MAX.D A3,A2,D0 	|	NOP 	}
{	NOP 	|	SGT.H A7,P3,P4,A3,A4	|	CLR D2 	|	SGT.L A7,P7,P8,A3,A4	|	NOP 	}
{	NOP 	|	SGT.L A7,P5,P6,A3,A5	|	(P2)MOVI.L D2,0 	|	SGT.H A7,P9,P10,A3,A4 	|	CLR D2 	}
{	NOP 	|	SGT.H A7,P7,P8,A3,A5 	|	(P4)MOVI.L D2,1 	|	SGT.L A7,P11,P12,A3,A5 	|	(P8)MOVI.L D2,8 	}
{	NOP 	|	SGT.L A7,P1,P2,A3,A6 	|	(P6)MOVI.L D2,2 	|	SGT.H A7,P13,P14,A3,A5 	|	(P10)MOVI.L D2,9 	}
{	NOP 	|	SGT.H A7,P3,P4,A3,A6 	|	(P8)MOVI.L D2,3 	|	SGT.L A7,P7,P8,A3,A6	|	(P12)MOVI.L D2,10 	}
{	NOP 	|	SGT.L A7,P5,P6,A3,A7 	|	(P2)MOVI.L D2,4 	|	SGT.H A7,P9,P10,A3,A6	|	(P14)MOVI.L D2,11 	}
{	NOP 	|	SGT.H A7,P7,P8,A3,A7 	|	(P4)MOVI.L D2,5 	|	SGT.L A7,P11,P12,A3,A7	|	(P8)MOVI.L D2,12 	}
{	NOP 	|	NOP 	|	(P6)MOVI.L D2,6 	|	SGT.H A7,P13,P14,A3,A7 	|	(P10)MOVI.L D2,13 	}
{	NOP 	|	DEX D8,A3 	|	(P8)MOVI.L D2,7 	|	DEX D8,A3 	|	(P12)MOVI.L D2,14 	}
{	NOP 	|	NOP 	|	NOP 	|	NOP 	|	(P14)MOVI.L D2,15 	}
{	NOP 	|	SGT.L A7,P1,P2,A3,D8	|	CLR D5 	|	SGT.L A7,P3,P4,A3,D8	|	CLR D5 	}
{	NOP 	|	DEX D8,D2 	|	NOP 	|	DEX D8,D2 	|	NOP 	}
{	NOP	  |	MOVI.H A6,BASE_ADDR	|	NOP |	NOP	|	NOP 	}
{	NOP 	|	MOVI.L A6,0x0014	|	CLR D4 	|	NOP 	|	CLR D4	}
{	NOP 	|	(P1) COPY D8,D2  	|	CLR D6 	|	(P3)COPY D8,D2 	|	CLR D6	}
{	MOVIU R2,0X00000006	|	COPY A2,D8 	|	MOVI.L D5,0X0001 	|	COPY A2,D8 	|	MOVI.L D5,0X0001 	}
{	MOVIU R1,0X0000000D	|	COPY A0,A1 	|	MOVI.L D6,0X0002 	|	ADDI A0,A1,-48 	|	MOVI.L D6,0X0002	}
										
_TRACEBACKOUTER: 										
_TRACEBACKINNER: 										
{	NOP 	|	INSERTI D4,A2,3,2 	|	NOP 	|	INSERTI D4,A2,2,3	|	NOP 	}
{	NOP 	|	ADD A1,A0,D4 	|	NOP 	|	ADD A1,A0,D4 	|	NOP 	}
{	NOP 	|	LH D0,A1,2+ 	|	NOP 	|	DLW D0,A1,8+ 	|	NOP 	}
{	NOP 	|	LH D1,A1,0	|	NOP 	|	SLLI A2,A2,2 	|	NOP 	}
{	NOP 	|	SLLI A2,A2,2 	|	NOP 	|	ADDI A0,A0,-64	|	NOP 	}
{	LBCB R1,_TRACEBACKINNER	|	ADDI A0,A0,-64 	|	NOP 	|	PERMH4 D0,D0,D1,0,2,1,3	|	NOP 	}
{	NOP 	|	SGT A7,P5,P6,D0,D1 	|	NOP	|	SGT.L A7,P1,P2,D0,D1 	|	NOP	}
{	NOP 	|	ANDP P2,P2,P5 	|	NOP	|	SGT.H A7,P3,P4,D0,D1	|	NOP	}
{	NOP 	|	(P2)OR A2,A2,D5 	|	ANDP P4,P4,P6 	|	(P2)OR A2,A2,D5 	|	NOP	}
{	NOP 	|	(P6)OR A2,A2,D6 	|	NOP	|	(P6)OR A2,A2,D6 	|	NOP	}
{	NOP 	|	(P4)OR A2,A2,D5 	|	NOP	|	(P4)OR A2,A2,D5 	|	NOP	}
{	LBCB R2,_TRACEBACKINNER	|	NOP 	|	NOP	|	NOP 	|	NOP	}
{	MOVIU R1,0X00000010 	|	SW A2,A6,-4+ 	|	NOP	|	NOP 	|	NOP	}
{	NOP 	|	NOP 	|	NOP	|	NOP 	|	NOP	}
{	NOP	|	NOP 	|	NOP	|	NOP 	|	NOP	}
{	NOP	|	NOP 	|	NOP	|	NOP 	|	NOP	}
{	NOP	|	NOP 	|	NOP	|	NOP 	|	NOP	}


  { NOP | NOP | NOP | NOP | NOP }  
  { NOP | NOP | NOP | NOP | NOP }
  { NOP | NOP | NOP | NOP | NOP }  
  { NOP | NOP | NOP | NOP | NOP }
{	TRAP	|	NOP 	|	NOP 	|	NOP 	|	NOP 	}
